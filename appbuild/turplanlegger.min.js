var myapp=angular.module("myapp",["ui.router"]);myapp.config(["$stateProvider","$urlRouterProvider","BASE_URL",function(e,t,r){t.otherwise("/start"),e.state("start",{url:"/start",templateUrl:r+"partials/views/start.html",controller:"startCtrl"}).state("info",{url:"/forberedelse",templateUrl:r+"partials/views/info/info.meny.html",controller:["$scope","Info",function(e,t){e.info=t}]}).state("info.info",{url:"/info",templateUrl:r+"partials/views/info/info.html",controller:"infoInfoCtrl"}).state("info.skredvarsel",{url:"/skredvarsel",templateUrl:r+"partials/views/info/skredvarsel.html",controller:"infoSkredvarselCtrl"}).state("info.vaer",{url:"/vaer",templateUrl:r+"partials/views/info/vaer.html",controller:"infoVaerCtrl"}).state("info.alpineFarer",{url:"/alpine-farer",templateUrl:r+"partials/views/info/alpine.farer.html",controller:"infoAlpineFarerCtrl"}).state("utstyr",{url:"/turgruppe",templateUrl:r+"partials/views/utstyr/utstyr.meny.html",controller:["$scope","Utstyr",function(e,t){e.utstyr=t}]}).state("utstyr.list",{url:"/list",templateUrl:r+"partials/views/utstyr/list.html",controller:"utstyrListCtrl"}).state("utstyr.deltakere",{url:"/deltakere",templateUrl:r+"partials/views/utstyr/deltakere.html",controller:"utstyrDeltakereCtrl"}).state("rute",{url:"/rute",templateUrl:r+"partials/views/rute/rute.meny.html",controller:["$scope","Rute",function(e,t){e.rute=t}]}).state("rute.rutevalg",{url:"/rutevalg",templateUrl:r+"partials/views/rute/rutevalg.html",controller:"ruteRutevalgCtrl"}).state("rute.distanse",{url:"/distanse",templateUrl:r+"partials/views/rute/distanse.html",controller:"ruteDistanseCtrl"}).state("rute.tidsplan",{url:"/tidsplan",templateUrl:r+"partials/views/rute/tidsplan.html",controller:"ruteTidsplanCtrl"}).state("kritiskeOmrader",{url:"/kritiske-omrader",templateUrl:r+"partials/views/kritiske-omrader/kritiske.omrader.meny.html",controller:["$scope","KritiskeOmrader",function(e,t){e.kritiskeOmrader=t}]}).state("kritiskeOmrader.egenskaper",{url:"/detaljer",templateUrl:r+"partials/views/kritiske-omrader/egenskaper.html",controller:"kritiskeOmraderEgenskaperCtrl"}).state("kritiskeOmrader.nedkjoring",{url:"/nedkjoring",templateUrl:r+"partials/views/kritiske-omrader/nedkjoring.html",controller:"kritiskeOmraderNedkjoringCtrl"}).state("planleggingsskjema",{url:"/planleggingsskjema",templateUrl:r+"partials/views/planleggingsskjema.html",controller:"planleggingsskjemaCtrl"})}]),myapp.controller("menuCtrl",["$scope","Cleared","$state","AppData",function(e,t,r,n){e.cleared=t,e.turTittel=n.turTittel,e.$on("$stateChangeSuccess",function(){var t=r.current.name,n=t.split(".")[0];e.infoActive=function(){return"info"===n},e.ruteActive=function(){return"rute"===n},e.utstyrActive=function(){return"utstyr"===n},e.kritiskeOmraderActive=function(){return"kritiskeOmrader"===n}})}]),myapp.controller("planleggingsskjemaCtrl",["$scope","$window","Cleared","Info","Rute","Utstyr","KritiskeOmrader","AppData",function(e,t,r,n,a,s,i,o){function l(e){var t=[];angular.forEach(e,function(e,r){n.skredvarsel.svar[r]&&t.push(e)});for(var r="",a=0;a<t.length;a++)r+=t[a],a<t.length-1&&(r+=", ");return r}var d=new jsPDF,u="Planleggingsskjema-"+o.turTittel+".pdf",v=20,k=20,p=60,g=10,f=.5;d.setFontSize(22),d.text(v,k,"Planleggingsskjema"),d.setFontSize(14),d.setDrawColor(200,200,200);var c=function(){d.addPage(),k=10},m=function(e,t,r,n){""!=e?k+=g:k=k+g/2+2,d.setDrawColor(0,0,0);var a="";angular.isArray(t)?angular.forEach(t,function(e){e.prefix=e.prefix||"",e.postfix=e.postfix||"",a+=angular.isDefined(e.text)?e.prefix+e.text+e.postfix:e.prefix+"______"+e.postfix}):angular.isObject(t)?(t.prefix=t.prefix||"",t.postfix=t.postfix||"",a=angular.isDefined(t.text)&&""!==t.text?t.prefix+t.text+t.postfix:t.prefix+"__________"+t.postfix):a=t,n&&d.setFontSize(n),k>270&&c(),angular.isDefined(r)&&(d.rect(v+p,k-4,5,5),a=r===!0?" x    "+a:"      "+a),d.text(v,k,e),d.text(v+p,k,a+"")},y=function(){k+=2,d.setDrawColor(220,220,220),d.setLineWidth(f);var e=k+g/2-2*f-1;d.line(v,e,240-p,e)};m("Turmål",o.turTittel),y(),m("Høydeforskjell",{text:a.distanse.svar.hoyde,postfix:" m"}),m("Distanse",{text:a.distanse.svar.lengde,postfix:" m"}),y(),m("Tidsplan",[{prefix:"Opp: ",text:a.tidsplan.svar.oppstigning,postfix:"t"},{prefix:" Pause: ",text:a.tidsplan.svar.pause,postfix:"t"},{prefix:" Nedstigning: ",text:a.tidsplan.svar.nedfart,postfix:"t"}]),m("",[{prefix:"Total tid: ",text:a.tidsplan.svar.oppstigning+a.tidsplan.svar.pause+a.tidsplan.svar.nedfart||void 0,postfix:"t"},{prefix:" Starttid: Kl. ",text:a.tidsplan.svar.startTid}]),y(),m("Nedfartsrute","Samme som oppturen",i.nedkjoring.svar.sammeRute===!0),m("","Annen nedfartsrute",i.nedkjoring.svar.sammeRute===!1),y(),m("Gruppe",{prefix:"Antall turdeltakere: ",text:s.deltakere.svar.gruppeStorrelse}),m("Motivasjon","Tilbakeholden",1==s.deltakere.svar.motivasjon),m("","Behersket",2==s.deltakere.svar.motivasjon),m("","Ambisiøs",3==s.deltakere.svar.motivasjon),m("Erfaring","Lite erfaring",1==s.deltakere.svar.erfaring),m("","Noe erfaring",2==s.deltakere.svar.erfaring),m("","Erfarne",3==s.deltakere.svar.erfaring),y(),m("Nedbør","Snø",n.vaer.svar.sno===!0),m("","Regn",n.vaer.svar.regn===!0),m("","Ingen nedbør",n.vaer.svar.ingenNedbor===!0),m("Sikt","God",n.vaer.svar.godSikt===!0),m("","Begrenset",n.vaer.svar.begrensetSikt===!0),m("","Dårlig",n.vaer.svar.darligSikt===!0),m("Vind","Svak",n.vaer.svar.svakVind===!0),m("","Lett til frisk bris",n.vaer.svar.lettTilFriskBris===!0),m("","Kuling, storm",n.vaer.svar.kulingStorm===!0),m("Nullgradersgrense",{text:n.vaer.svar.nullisoterm,postfix:" m"}),y(),m("Faregrad",{text:n.skredvarsel.svar.faregrad}),m("Skredproblem",{text:n.labels.skredproblem[n.skredvarsel.svar.skredproblem]}),c(),m("Årsak til skredfare",n.labels.snodekke.nySno,n.skredvarsel.svar.nySno===!0),m("",n.labels.snodekke.svakeLagISnopakken,n.skredvarsel.svar.svakeLagISnopakken===!0),m("",n.labels.snodekke.vatOgVannmettetSno,n.skredvarsel.svar.vatOgVannmettetSno===!0),m("",n.labels.snodekke.vindtransportertSno,n.skredvarsel.svar.vindtransportertSno===!0),m("Utsatte områder",n.labels.utsatt.leomrader,n.skredvarsel.svar.leomrader===!0),m("",n.labels.utsatt.overgangFraLiteTilMyeSno,n.skredvarsel.svar.overgangFraLiteTilMyeSno===!0),m("",n.labels.utsatt.terrengfeller,n.skredvarsel.svar.terrengfeller===!0),m("Tilleggsbelastning",{text:n.labels.tilleggsbelastning[n.skredvarsel.svar.tilleggsbelastning]}),m("Forventet skredstørrelse",{text:n.labels.skredstorrelse[n.skredvarsel.svar.skredstorrelse]}),m("Sannsynlighet for skred",{text:n.labels.sannsynlighet[n.skredvarsel.svar.sannsynlighet]}),m("Utsatt høydenivå",{text:n.skredvarsel.svar.hoydeniva,postfix:" meter"});var h=l({n:"N",no:"NØ",o:"Ø",so:"SØ",s:"S",sv:"SV",v:"V",nv:"NV"});m("Eksposisjon",{text:h}),e.showRegularButton=!1,t.Uint8Array?e.showRegularButton=!0:Downloadify.create("downloadify",{filename:u,dataType:"base64",data:function(){return btoa(d.output())},onComplete:function(){},onCancel:function(){},onError:function(){},swf:"libs/downloadify/media/downloadify.swf",downloadImage:"libs/downloadify/images/download.png",width:100,height:30,transparent:!0,append:!1}),e.cleared=r,e.saveDoc=function(){d.save(u)}}]),myapp.controller("startCtrl",["$scope","AppData",function(e,t){e.turTittel=t.turTittel}]),myapp.controller("kritiskeOmraderEgenskaperCtrl",["$scope","AppData",function(e,t){e.himmelRetningerLabels=[{title:"N",key:"n"},{title:"NØ",key:"no"},{title:"Ø",key:"o"},{title:"SØ",key:"so"},{title:"S",key:"s"},{title:"SV",key:"sv"},{title:"V",key:"v"},{title:"NV",key:"nv"}],e.utsatteOmraderLabels=[{title:"Bratte heng (over 30°)",key:"bratteHeng"},{title:"Leområder, leheng",key:"leomrader"},{title:"Renner, depresjoner",key:"renner"},{title:"Områder med mye steiner/blokker",key:"omraderMedMyeSteiner"}],e.showKritiskOmradeNr=-1,e.showPoints=!1,e.togglePoints=function(){e.showPoints=!e.showPoints,e.showKritiskOmradeNr=-1},e.showKritiskOmrade=function(t){e.showKritiskOmradeNr=t},e.forrige="rute.tidsplan",e.neste="kritiskeOmrader.nedkjoring",e.turTittel=t.turTittel,e.bilder=t.bilder}]),myapp.controller("kritiskeOmraderNedkjoringCtrl",["$scope",function(e){e.forrige="kritiskeOmrader.egenskaper",e.neste="planleggingsskjema"}]),myapp.controller("infoAlpineFarerCtrl",["$scope","AppData",function(e,t){e.alerts={"Hvilke alpine farer kan det være på turen?":["fall","bresprekker","skalver","klipper","vindavkjoling"]},e.turTittel=t.turTittel,e.forrige="info.vaer",e.neste="utstyr.list"}]),myapp.controller("infoInfoCtrl",["$scope","AppData",function(e,t){e.infoVarslingsOmrade=t.infoVarslingsOmrade,e.info.info.item.cleared=!0,e.forrige="start",e.neste="info.skredvarsel"}]),myapp.controller("infoSkredvarselCtrl",["$scope","AppData",function(e,t){e.alerts={"Hva er varslet faregrad?":["faregrad"],"Hva slags type skredproblem kan man møte?":["skredproblem"],"Hva er mest utsatt himmelretning?":["n","no","o","so","s","sv","v","nv"],"Hvordan er snødekket?":["nySno","vindtransportertSno","svakeLagISnopakken","vatOgVannmettetSno"],"Hva er de mest utsatte områdene?":["bratteHeng","leomrader","terrengfeller","overgangFraLiteTilMyeSno"],"Hva er mest utsatt høydenivå?":["hoydeniva"],"Hva er varslet sannsynlighet for skred?":["sannsynlighet"],"Hva er varslet skredstørrelse?":["skredstorrelse"],"Hva er varslet tilleggsbelastning?":["tilleggsbelastning"]},e.himmelRetningerLabels=[{title:"N",key:"n"},{title:"NØ",key:"no"},{title:"Ø",key:"o"},{title:"SØ",key:"so"},{title:"S",key:"s"},{title:"SV",key:"sv"},{title:"V",key:"v"},{title:"NV",key:"nv"}],e.faregrader={values:[{v:1,t:"1"},{v:2,t:"2"},{v:3,t:"3"},{v:4,t:"4"},{v:5,t:"5"}],name:"Faregrad"},e.damageSize={values:[{v:4,t:"Svært store"},{v:3,t:"Store"},{v:2,t:"Middels"},{v:1,t:"Små"}],name:"Forventet skredstørrelse",vertical:!0},e.probability={values:[{v:4,t:"Meget sannsynlig"},{v:3,t:"Sannsynlig"},{v:2,t:"Mulig"},{v:1,t:"Lite sannsynlig"}],name:"Sannsynlighet for å utløse snøskred",vertical:!0},e.tilleggsbelastning={values:[{v:"naturlig",t:"Naturlig utløst"},{v:"liten",t:"Liten"},{v:"stor",t:"Stor"}],name:"Tilleggsbelastning",vertical:!0},e.forrige="info.info",e.neste="info.vaer",e.infoVarslingsOmrade=t.infoVarslingsOmrade,e.skredvarselLink=t.skredvarselLink}]),myapp.controller("infoVaerCtrl",["$scope",function(e){e.nedborLabels=[{title:"Ingen nedbør",key:"ingenNedbor"},{title:"Snø",key:"sno"},{title:"Regn",key:"regn"}],e.siktLabels=[{title:"God",key:"godSikt"},{title:"Begrenset",key:"begrensetSikt"},{title:"Dårlig",key:"darligSikt"}],e.vindLabels=[{title:"Svak",key:"svakVind"},{title:"Lett til frisk bris",key:"lettTilFriskBris"},{title:"Kuling, storm",key:"kulingStorm"}];var t={nedbor:[],sikt:[],vind:[]};angular.forEach(e.nedborLabels,function(e){t.nedbor.push(e.key)}),angular.forEach(e.siktLabels,function(e){t.sikt.push(e.key)}),angular.forEach(e.vindLabels,function(e){t.vind.push(e.key)}),e.alerts={"Er det ventet nedbør? Hvis ja, hvilken?":t.vind,"Hvordan er sikten?":t.sikt,"Vil vinden være en faktor?":t.vind,"Hva er nullgradsgrensen?":["nullisoterm"]},e.forrige="info.skredvarsel",e.neste="info.alpineFarer"}]),myapp.controller("ruteDistanseCtrl",["$scope","AppData",function(e,t){e.forrige="rute.rutevalg",e.neste="rute.tidsplan",e.alerts={"Skriv inn en horisontal distanse!":["lengde"],"Prøv og finn ut høydeforskjellen!":["hoyde"]},e.bilder=t.bilder}]),myapp.controller("ruteRutevalgCtrl",["$scope","AppData","Rute",function(e,t,r){e.rute=r,e.alerts={"Tegn inn rute!":["rutevalg"]},e.settings={color:"#0000FF",lineWidth:3},e.rutevalgDone=function(){e.rute.rutevalg.svar.rutevalg=!0},e.forrige="utstyr.deltakere",e.neste="rute.distanse",e.ruteTekst=t.ruteTekst,e.bilder=t.bilder}]),myapp.controller("ruteTidsplanCtrl",["$scope","AppData",function(e,t){e.alerts={"Fyll inn alle tider!":["oppstigning","nedfart","pause"],"Krever skredfaresituasjonen at man starter tidlig på morgenen?":["startTid","spesifikkStart"]},e.forrige="rute.distanse",e.neste="kritiskeOmrader.egenskaper",e.turTittel=t.turTittel,e.hoydeMeter=t.hoydeMeter}]),myapp.controller("utstyrDeltakereCtrl",["$scope",function(e){e.alerts={"Hvor stor er gruppen som skal på tur?":["gruppeStorrelse"],"Hvor mye gjennomsnittlig erfaring har turmedlemmene?":["erfaring"],"Hvordan er motivasjonen blant medlemmene i gruppa?":["motivasjon"]},e.customAlerts=function(){return[{text:"Er alle deltakere informert om ruten, utfordringer og timeplan?",show:!0},{text:"Er dere mer enn 7 personer blir koordinasjon og tidsstyring innad i gruppen vanskeligere!",show:e.utstyr.deltakere.svar.gruppeStorrelse>7},{text:"You already have a good know-how and can achieve a lot. Compensates for your decisions against each other, to remain aware of the risks and enjoy your tours!",show:2==e.utstyr.deltakere.svar.erfaring&&1==e.utstyr.deltakere.svar.motivasjon||3==e.utstyr.deltakere.svar.erfaring&&1==e.utstyr.deltakere.svar.motivasjon},{text:"Det er en god strategi å gå sakte fram og tilegne deg så mye erfaring som mulig.",show:1==e.utstyr.deltakere.svar.erfaring&&(1==e.utstyr.deltakere.svar.motivasjon||2==e.utstyr.deltakere.svar.motivasjon)||2==e.utstyr.deltakere.svar.erfaring&&2==e.utstyr.deltakere.svar.motivasjon||3==e.utstyr.deltakere.svar.erfaring&&2==e.utstyr.deltakere.svar.motivasjon},{text:"Warning: Wrong ambition often makes us enter into a high risk. Remember. Werner Munter one coined the expression - be careful expert, the avalanche does not know that you're an expert!",show:3==e.utstyr.deltakere.svar.motivasjon}]},e.forrige="utstyr.list",e.neste="rute.rutevalg"}]),myapp.controller("utstyrListCtrl",["$scope",function(e){e.alerts={"Sender/mottaker, spade og søkestang er nødvendig for å kunne ferdes i snøskredterreng!":["skredsoker","spade","sokestang"],"Kart og kompass er viktig for å kunne orientere seg!":["kartKompass"],"En mobiltelefon er nyttig i tilfelle en nødssituasjon!":["mobiltelefon"],"Førstehjelpssett er viktig for å kunne ta hånd om småskader etc.!":["forstehjelpssett"]},e.alleTurDeltakereLabels=[{title:"Skredsøker",key:"skredsoker"},{title:"Spade",key:"spade"},{title:"Søkestang",key:"sokestang"}],e.tilleggsUtstyrLabels=[{title:"Ballongsekk, avalung, skredball",key:"ballongsekkAvalungSkredball"}],e.annetLabels=[{title:"Kart, kompass",key:"kartKompass"},{title:"Mobiltelefon",key:"mobiltelefon"},{title:"Førstehjelpssett",key:"forstehjelpssett"},{title:"Bivuakksekk",key:"bivuakksekk"}],e.forrige="info.alpineFarer",e.neste="utstyr.deltakere"}]),myapp.constant("BASE_URL","/Templates/Pages/Skredskole/"),myapp.factory("MenuItem",function(){return function(e,t,r){return{item:{cleared:!1,link:t,navn:e},svar:{},fasit:r,progressbarStyle:{width:"0%"},barClass:""}}}),myapp.factory("runProgressbarAnimation",["$timeout","CurrentPageObject",function(e,t){return function(){var r=t().progressbarStyle.width;t().progressbarStyle.width="0%",e(function(){t().progressbarStyle.width=r},500)}}]),myapp.factory("korrekteSvar",["runProgressbarAnimation","AlertObject","sjekkFasit",function(e,t,r){return function(n){r(),e(),t(n)}}]),myapp.factory("sjekkFasit",["CurrentPageObject",function(e){return function(){var t=e(),r=t.svar;void 0===t.antallFasitSvar&&(t.antallFasitSvar=0,angular.forEach(t.fasit,function(e){void 0!==e&&(t.antallFasitSvar=t.antallFasitSvar+1)}));var n=t.antallFasitSvar,a=0;t.barClass="",angular.isObject(r)&&angular.forEach(r,function(e,r){e==t.fasit[r]||"required"===t.fasit[r]&&e?a+=1:e!==!1&&(a=a>0?a-1:0,t.barClass="bar-warning")}),t.antallRiktigeSvar=a;var s=a/n*100;t.progressbarStyle.width=s+"%",a===n?(t.barClass="bar-success",t.item.cleared!==!0&&(t.item.cleared=!0)):t.item.cleared!==!1&&(t.item.cleared=!1)}}]),myapp.factory("AlertObject",["CurrentPageObject",function(e){return function(t){var r=e().svar,n=e().fasit,a=[];return angular.forEach(t,function(e,t){var s=!1,i=0;for(i=0;i<e.length;i+=1){var o=r[e[i]],l=n[e[i]];if(!(o==l||o===!1&&void 0===l||o&&"required"===l)){s=!0;break}}a.push({text:t,show:s})}),e().alerts=a,a}}]),myapp.factory("Cleared",["Info","Utstyr","Rute","KritiskeOmrader",function(e,t,r,n){var a=function(){return e.skredvarsel.item.cleared&&e.vaer.item.cleared&&e.alpineFarer.item.cleared},s=function(){return t.list.item.cleared&&t.deltakere.item.cleared},i=function(){return r.rutevalg.item.cleared&&r.distanse.item.cleared&&r.tidsplan.item.cleared},o=function(){return n.egenskaper.item.cleared&&n.nedkjoring.item.cleared};return{info:a,utstyr:s,rute:i,kritiskeOmrader:o}}]),myapp.factory("CurrentPageObject",["Info","Utstyr","Rute","KritiskeOmrader","$state",function(e,t,r,n,a){return function(){var s=a.current.name.split(".");return"info"===s[0]?e[s[1]]:"utstyr"===s[0]?t[s[1]]:"rute"===s[0]?r[s[1]]:"kritiskeOmrader"===s[0]?n[s[1]]:void 0}}]),myapp.provider("Info",function(){var e={skredvarsel:{faregrad:void 0,skredproblem:void 0,tilleggsbelastning:void 0,skredstorrelse:void 0,sannsynlighet:void 0,leomrader:void 0,terrengfeller:void 0,overgangFraLiteTilMyeSno:void 0,nySno:void 0,vindtransportertSno:void 0,svakeLagISnopakken:void 0,vatOgVannmettetSno:void 0,n:void 0,no:void 0,o:void 0,so:void 0,s:void 0,sv:void 0,v:void 0,nv:void 0,hoydeniva:void 0},vaer:{ingenNedbor:void 0,sno:void 0,regn:void 0,svakVind:void 0,lettTilFriskBris:void 0,kulingStorm:void 0,godSikt:void 0,begrensetSikt:void 0,darligSikt:void 0,nullisoterm:void 0},alpineFarer:{fall:void 0,bresprekker:void 0,skalver:void 0,klipper:void 0,vindavkjoling:void 0}};this.$get=["MenuItem",function(t){return{info:t("Info",".info",{}),skredvarsel:t("Skredvarsel",".skredvarsel",e.skredvarsel),vaer:t("Vær",".vaer",e.vaer),alpineFarer:t("Alpine farer",".alpineFarer",e.alpineFarer),labels:{skredproblem:{torreLossnoskred:"Tørre løssnøskred",vateLossnoskred:"Våte løssnøskred",torreFlakskred:"Tørre flakskred",vateFlakskred:"Våte flakskred",skavl:"Skavl"},snodekke:{nySno:"Nysnø",vindtransportertSno:"Vindtransportert snø",svakeLagISnopakken:"Svake lag i snøpakken",vatOgVannmettetSno:"Våt og vannmettet snø"},utsatt:{leomrader:"Leområder",terrengfeller:"Terrengfeller",overgangFraLiteTilMyeSno:"Overgang fra lite til mye snø"},tilleggsbelastning:{naturlig:"Naturlig utløst",liten:"Liten",stor:"Stor"},skredstorrelse:{4:"Svært store",3:"Store",2:"Middels",1:"Små"},sannsynlighet:{4:"Meget sannsynlig",3:"Sannsynlig",2:"Mulig",1:"Lite sannsynlig"}}}}],this.setFasit=function(t){e=t}}),myapp.provider("Utstyr",function(){var e={list:{skredsoker:!0,spade:!0,sokestang:!0,kartKompass:!0,mobiltelefon:!0,forstehjelpssett:!0},deltakere:{gruppeStorrelse:"required",erfaring:"required",motivasjon:"required"}};this.$get=["MenuItem",function(t){return{list:t("Utstyr",".list",e.list),deltakere:t("Deltakere",".deltakere",e.deltakere)}}],this.setFasit=function(t){e=t}}),myapp.provider("Rute",function(){var e={tidsplan:{oppstigning:void 0,nedfart:void 0,pause:void 0,spesifikkStart:void 0,startTid:void 0},rutevalg:{rutevalg:void 0},distanse:{lengde:void 0,hoyde:void 0}};this.$get=["MenuItem",function(t){return{tidsplan:t("Tidsplan",".tidsplan",e.tidsplan),rutevalg:t("Rutevalg",".rutevalg",e.rutevalg),distanse:t("Distanse",".distanse",e.distanse)}}],this.setFasit=function(t){e=t}}),myapp.provider("KritiskeOmrader",function(){var e={egenskaper:{},nedkjoring:{sammeRute:void 0}};this.$get=["MenuItem",function(t){return{egenskaper:t("Detaljer",".egenskaper",e.egenskaper),nedkjoring:t("Nedkjøring",".nedkjoring",e.nedkjoring)}}],this.setFasit=function(t){e=t}}),myapp.provider("AppData",function(){var e="turTittel",t="Høydemeter",r=["paragraf1","paragraf2"],n="dato",a="url",s="tekst",i={kart:"",kartMedLosning:"",kartMedKritiskeOmrader:"",kartKritiskOmrade1Zoom:"",kartKritiskOmrade2Zoom:""};this.$get=function(){return{turTittel:e,hoydeMeter:t,infoVarslingsOmrade:r,skredvarselLink:a,skredvarselDato:n,ruteTekst:s,bilder:i}},this.setTurTittel=function(t){e=t},this.setHoydeMeter=function(e){t=e},this.setInfoVarslingsOmrade=function(e){r=e},this.setSkredvarselDato=function(e){n=e},this.setSkredvarselLink=function(e){a=e},this.setRuteTekst=function(e){s=e},this.setBilder=function(e){i=e}}),myapp.directive("nveCanvas",["BASE_URL",function(e){return{restrict:"E",templateUrl:e+"partials/directives/nveCanvas.html",scope:{settings:"=",question:"=",solution:"="},link:function(e,t){function r(t,r,n,a){l.moveTo(t,r),l.lineTo(n,a),l.strokeStyle=e.settings.color,l.lineWidth=e.settings.lineWidth,l.stroke()}var n=t[0].children[2],a=!1,s={question:{"background-image":"url("+e.question+")"},solution:{"background-image":"url("+e.solution+")"}};e.canvasWidth=t.parent().width(),e.canvasHeight=.7*e.canvasWidth,e.toggleSolutionText="Vis rute",e.canvasbg=s.question,e.toggleSolution=function(){a=!a,a?(e.toggleSolutionText="Skjul rute",e.canvasbg=s.solution):(e.toggleSolutionText="Vis rute",e.canvasbg=s.question)};var i,o,l=n.getContext("2d"),d=!1;angular.element(n).bind("mousedown",function(e){void 0!==e.offsetX?(i=e.offsetX,o=e.offsetY):(i=e.layerX-e.currentTarget.offsetLeft,o=e.layerY-e.currentTarget.offsetTop),l.beginPath(),d=!0}),angular.element(n).bind("mousemove",function(e){d&&(void 0!==e.offsetX?(currentX=e.offsetX,currentY=e.offsetY):(currentX=e.layerX-e.currentTarget.offsetLeft,currentY=e.layerY-e.currentTarget.offsetTop),r(i,o,currentX,currentY),i=currentX,o=currentY)}),angular.element(n).bind("mouseup",function(){d=!1}),e.clearCanvas=function(){l.clearRect(0,0,e.canvasWidth,e.canvasHeight)}}}}]),myapp.directive("nveDraggable",["$document",function(e){return function(t,r){function n(e){var t;return t=e.offsetX?{x:e.offsetX,y:e.offsetY}:e.layerX?{x:e.layerX,y:e.layerY}:{x:e.pageX,y:e.pageY}}function a(e){var t;e.touches?(t=n(e.touches[0]),d=t.x-o,u=t.y-l):(u=e.pageY-l,d=e.pageX-o),r.css({top:u+"px",left:d+"px"})}function s(){e.unbind("mousemove",a),e.unbind("mouseup",s)}function i(){r.unbind("touchmove",a),r.unbind("touchstop",s)}var o=0,l=0,d=0,u=0;r.css({position:"relative",border:"2px solid red",borderRadius:"50%",width:"25px",height:"25px",cursor:"pointer"}),r.on("mousedown",function(t){t.preventDefault(),o=t.pageX-d,l=t.pageY-u,e.on("mousemove",a),e.on("mouseup",s)}),r.on("touchstart",function(e){e.preventDefault();var t=n(e.touches[0]);o=t.x-d,l=t.y-u,r.on("touchmove",a),r.on("touchstop",i)})}}]),myapp.directive("nveSubMenuItem",["BASE_URL",function(e){return{templateUrl:e+"partials/directives/nveSubMenuItem.html",transclude:!0,scope:{nveSubMenuItem:"="}}}]).directive("nveSkredFooter",["BASE_URL",function(e){return{restrict:"AE",scope:{alerts:"=",customAlerts:"&",forrige:"=",neste:"="},templateUrl:e+"partials/directives/nveSkredFooter.html",controller:["$scope","CurrentPageObject","sjekkFasit","korrekteSvar","filterFilter",function(e,t,r,n){e.containerObject=t();var a=!1,s="Vis fasit",i="Skjul fasit";e.fasitKnappTekst=s;var o={};e.$watchCollection("containerObject.svar",function(){r()}),e.visAntallKorrekteSvar=function(){if(n(e.alerts),angular.isFunction(e.customAlerts)){var t=e.customAlerts();angular.forEach(t,function(t){e.containerObject.alerts.push(t)})}},e.toggleFasit=function(){a?(angular.copy(o,e.containerObject.svar),e.fasitKnappTekst=s):(angular.copy(e.containerObject.svar,o),angular.copy(e.containerObject.fasit,e.containerObject.svar),e.fasitKnappTekst=i),a=!a},e.emptyAnswers=function(){e.containerObject.svar={},a=!1,e.fasitKnappTekst=s}}]}}]).directive("nveCheckboxButton",["BASE_URL",function(e){return{scope:{nveCheckboxButton:"="},transclude:!0,templateUrl:e+"partials/directives/nveCheckboxButton.html"}}]).directive("nveSkredproblemBoks",["BASE_URL",function(e){return{scope:{boks:"=nveSkredproblemBoks",nveModel:"="},transclude:!1,templateUrl:e+"partials/directives/nveSkredproblemBoks.html",link:function(e){e.changeModel=function(t){e.nveModel=t}}}}]).directive("nveCompass",["BASE_URL",function(e){return{scope:{nveCompass:"="},link:function(e){e.nveCompass.keys||(e.nveCompass.keys=["n","no","o","so","s","sv","v","nv"]),e.model=e.nveCompass.model,e.keys=e.nveCompass.keys},templateUrl:e+"partials/directives/nveCompass.html"}}]);